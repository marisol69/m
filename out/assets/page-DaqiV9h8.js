import{d as G,a as J,b as K,u as U,r as s,s as g,j as e,L as h}from"./index-DlD1gmTD.js";import{u as W,H as f,F as k}from"./Footer-B2vMGxQd.js";function Z(){const{id:x}=G(),{t:o}=W("common"),{addToCart:y}=J(),{addToFavorites:E,removeFromFavorites:$,isFavorite:j}=K(),T=U(),[r,p]=s.useState(null),[v,N]=s.useState([]),[D,u]=s.useState(!0),[l,w]=s.useState(""),[n,_]=s.useState(""),[m,q]=s.useState(1),[M,P]=s.useState(!1),[F,c]=s.useState(""),[S,C]=s.useState(0);s.useEffect(()=>{x&&(L(),window.scrollTo({top:0,behavior:"smooth"}))},[x]);const L=async()=>{u(!0);try{const{data:t,error:a}=await g.from("products").select("*").eq("id",x).eq("is_active",!0).single();if(a||!t){console.error("Produto não encontrado:",a),p(null),u(!1);return}p(t),C(0),t.colors&&t.colors.length>0&&_(t.colors[0]),t.sizes&&t.sizes.length>0&&w(t.sizes[0]),await O()}catch(t){console.error("Erro ao carregar produto:",t),p(null)}finally{u(!1)}},O=async()=>{try{const{data:t}=await g.from("site_settings").select("*").eq("key","product_recommendations").single();let a=[];if(t?.value?.productIds&&t.value.productIds.length>0&&(a=t.value.productIds),a.length>0){const{data:i}=await g.from("products").select("*").in("id",a).eq("is_active",!0).neq("id",x).limit(4);if(i&&i.length>0){N(i);return}}const{data:d}=await g.from("products").select("*").eq("is_active",!0).neq("id",x).limit(4);d&&N(d)}catch(t){console.error("Erro ao carregar produtos recomendados:",t)}};if(D)return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(f,{}),e.jsx("div",{className:"flex items-center justify-center py-40",children:e.jsx("i",{className:"ri-loader-4-line text-6xl text-pink-500 animate-spin"})}),e.jsx(k,{})]});if(!r)return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(f,{}),e.jsxs("div",{className:"pt-32 pb-20 px-6 text-center",children:[e.jsx("i",{className:"ri-error-warning-line text-6xl text-gray-400 dark:text-gray-600 mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Produto não encontrado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"O produto que procura não existe ou foi removido."}),e.jsxs(h,{to:"/products",className:"inline-block px-8 py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Voltar à Loja"]})]}),e.jsx(k,{})]});const R=()=>{if(c(""),r.sizes&&r.sizes.length>0&&!l){c("Por favor, selecione um tamanho");return}if(r.colors&&r.colors.length>0&&!n){c("Por favor, selecione uma cor");return}const t=r.images?.[0]||r.image_url||"https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait";y({id:r.id+(l||"")+(n||""),name:r.name_pt||r.name,price:r.is_on_sale&&r.sale_price?r.sale_price:r.price,image:t,quantity:m,size:l,color:n}),P(!0),setTimeout(()=>P(!1),3e3)},A=()=>{if(c(""),r.sizes&&r.sizes.length>0&&!l){c("Por favor, selecione um tamanho");return}if(r.colors&&r.colors.length>0&&!n){c("Por favor, selecione uma cor");return}const t=r.images?.[0]||r.image_url||"https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait";y({id:r.id+(l||"")+(n||""),name:r.name_pt||r.name,price:r.is_on_sale&&r.sale_price?r.sale_price:r.price,image:t,quantity:m,size:l,color:n}),T("/checkout")},H=()=>{const t=r.images?.[0]||r.image_url||"https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait";j(r.id)?$(r.id):E({id:r.id,name:r.name_pt||r.name,price:r.is_on_sale&&r.sale_price?r.sale_price:r.price,image:t})},I=r.is_on_sale&&r.sale_price?r.sale_price:r.price,V=r.is_on_sale&&r.sale_price&&r.sale_price<r.price,z=r.discount_percentage||0,b=r.images&&r.images.length>0?r.images:r.image_url?[r.image_url]:["https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait"];return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300",children:[e.jsx(f,{}),e.jsx("div",{className:"pt-32 pb-20 px-4 sm:px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(h,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-400 cursor-pointer",children:"Início"}),e.jsx("i",{className:"ri-arrow-right-s-line text-gray-400"}),e.jsx(h,{to:"/products",className:"text-gray-600 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-400 cursor-pointer",children:"Produtos"}),e.jsx("i",{className:"ri-arrow-right-s-line text-gray-400"}),e.jsx("span",{className:"text-gray-800 dark:text-white font-medium",children:r.name_pt||r.name})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 mb-20",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-full h-[400px] sm:h-[500px] lg:h-[600px] mb-4 rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:e.jsx("img",{src:b[S],alt:r.name_pt||r.name,className:"w-full h-full object-cover object-top",onError:t=>{const a=t.target;a.src="https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product-fallback&orientation=portrait"}})}),b.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-3",children:b.map((t,a)=>e.jsx("button",{onClick:()=>C(a),className:`w-full h-24 rounded-lg overflow-hidden border-2 transition-all cursor-pointer ${S===a?"border-pink-500 ring-2 ring-pink-500/50":"border-gray-200 dark:border-gray-700 hover:border-pink-400"}`,children:e.jsx("img",{src:t,alt:`${r.name_pt||r.name} - Imagem ${a+1}`,className:"w-full h-full object-cover object-top",onError:d=>{const i=d.target;i.src="https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product-thumb&orientation=portrait"}})},a))})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white mb-4",children:r.name_pt||r.name}),e.jsx("div",{className:"mb-6",children:V?e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-pink-400 dark:text-pink-300",children:["€",I.toFixed(2)]}),e.jsxs("span",{className:"text-xl text-gray-400 line-through",children:["€",r.price.toFixed(2)]}),z>0&&e.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-full text-sm font-bold animate-pulse",children:["-",z,"% OFF"]})]}):e.jsxs("p",{className:"text-3xl sm:text-4xl font-bold text-pink-400 dark:text-pink-300",children:["€",I.toFixed(2)]})}),e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`inline-block px-5 py-2 rounded-full text-sm font-semibold ${r.stock>0?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:r.stock>0?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-checkbox-circle-line mr-1"}),o("inStock")]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-close-circle-line mr-1"}),o("outOfStock")]})})}),r.colors&&r.colors.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 dark:text-white mb-3",children:o("color")}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:r.colors.map(t=>e.jsx("button",{onClick:()=>_(t),className:`px-5 py-3 border-2 rounded-xl text-sm font-medium transition-all whitespace-nowrap cursor-pointer ${n===t?"border-pink-500 bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-900/30 text-pink-600 dark:text-pink-300 shadow-lg scale-105":"border-gray-300 dark:border-gray-600 hover:border-pink-400 dark:hover:border-pink-300 text-gray-700 dark:text-gray-300 hover:scale-105"}`,children:t},t))})]}),r.sizes&&r.sizes.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 dark:text-white mb-3",children:o("size")}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:r.sizes.map(t=>e.jsx("button",{onClick:()=>w(t),className:`px-5 py-3 border-2 rounded-xl text-sm font-medium transition-all whitespace-nowrap cursor-pointer ${l===t?"border-pink-500 bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-900/30 text-pink-600 dark:text-pink-300 shadow-lg scale-105":"border-gray-300 dark:border-gray-600 hover:border-pink-400 dark:hover:border-pink-300 text-gray-700 dark:text-gray-300 hover:scale-105"}`,children:t},t))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 dark:text-white mb-3",children:o("quantity")}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>q(Math.max(1,m-1)),className:"w-12 h-12 flex items-center justify-center border-2 border-gray-300 dark:border-gray-600 rounded-xl hover:border-pink-400 dark:hover:border-pink-300 hover:scale-110 transition-all cursor-pointer text-gray-700 dark:text-gray-300 font-bold text-xl",children:e.jsx("i",{className:"ri-subtract-line"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-white min-w-[3rem] text-center",children:m}),e.jsx("button",{onClick:()=>q(m+1),className:"w-12 h-12 flex items-center justify-center border-2 border-gray-300 dark:border-gray-600 rounded-xl hover:border-pink-400 dark:hover:border-pink-300 hover:scale-110 transition-all cursor-pointer text-gray-700 dark:text-gray-300 font-bold text-xl",children:e.jsx("i",{className:"ri-add-line"})})]})]}),F&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border-2 border-red-200 dark:border-red-700 rounded-xl animate-pulse",children:e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400 flex items-center gap-2 font-medium",children:[e.jsx("i",{className:"ri-error-warning-line text-xl"}),F]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[e.jsxs("button",{onClick:R,disabled:r.stock===0,className:"flex-1 px-6 sm:px-8 py-5 bg-gradient-to-r from-pink-500 to-rose-500 dark:from-pink-500 dark:to-rose-500 text-white rounded-2xl hover:from-pink-600 hover:to-rose-600 dark:hover:from-pink-600 dark:hover:to-rose-600 hover:shadow-2xl hover:scale-105 transition-all duration-300 font-bold text-base sm:text-lg whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 shadow-lg transform active:scale-95",children:[e.jsx("i",{className:"ri-shopping-cart-line mr-2 text-xl"}),o("addToCart")]}),e.jsxs("button",{onClick:A,disabled:r.stock===0,className:"flex-1 px-6 sm:px-8 py-5 bg-gradient-to-r from-blue-500 to-cyan-500 dark:from-blue-600 dark:to-cyan-600 text-white rounded-2xl hover:from-blue-600 hover:to-cyan-600 dark:hover:from-blue-700 dark:hover:to-cyan-700 hover:shadow-2xl hover:scale-105 transition-all duration-300 font-bold text-base sm:text-lg whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 shadow-lg transform active:scale-95",children:[e.jsx("i",{className:"ri-flashlight-line mr-2 text-xl"}),"Comprar Agora"]}),e.jsx("button",{onClick:H,className:"w-16 h-16 flex items-center justify-center border-2 border-gray-300 dark:border-gray-600 rounded-2xl hover:border-pink-400 dark:hover:border-pink-300 hover:scale-110 transition-all cursor-pointer flex-shrink-0",children:e.jsx("i",{className:`text-2xl ${j(r.id)?"ri-heart-fill text-pink-500 dark:text-pink-400":"ri-heart-line text-gray-700 dark:text-gray-300"}`})})]}),M&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/30 border-2 border-green-200 dark:border-green-700 rounded-xl animate-bounce",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400 flex items-center gap-2 font-medium",children:[e.jsx("i",{className:"ri-check-line text-xl"}),"Produto adicionado ao carrinho com sucesso!"]})}),e.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-700 pt-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-3",children:o("description")}),e.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:r.description||"Produto de alta qualidade da Marisol."})]}),e.jsxs("div",{className:"border-t-2 border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:o("shippingInfo")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-green-500 rounded-full flex-shrink-0",children:e.jsx("i",{className:"ri-truck-line text-xl text-white"})}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Envio grátis para encomendas acima de ",e.jsx("strong",{className:"text-pink-600 dark:text-pink-400",children:"€50"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-500 rounded-full flex-shrink-0",children:e.jsx("i",{className:"ri-time-line text-xl text-white"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Entrega rápida"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-purple-500 rounded-full flex-shrink-0",children:e.jsx("i",{className:"ri-shield-check-line text-xl text-white"})}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Compra 100% segura"})]})]})]})]})]}),v.length>0&&e.jsxs("div",{className:"mt-20",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white mb-4",children:"Produtos Recomendados da Marisol"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Selecionados especialmente para si"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 mb-8","data-product-shop":!0,children:v.map(t=>{const a=t.images?.[0]||t.image_url||"https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait",d=t.is_on_sale&&t.sale_price?t.sale_price:t.price,i=t.is_on_sale&&t.sale_price&&t.sale_price<t.price;return e.jsx(h,{to:`/product/${t.id}`,className:"group cursor-pointer",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 hover:scale-105",children:[e.jsxs("div",{className:"relative w-full h-64 lg:h-80 overflow-hidden",children:[e.jsx("img",{src:a,alt:t.name_pt||t.name,className:"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-500",onError:B=>{const Q=B.target;Q.src="https://readdy.ai/api/search-image?query=elegant%20fashion%20clothing%20product%20on%20simple%20white%20background%20professional%20ecommerce%20photography%20high%20quality%20studio%20lighting&width=400&height=500&seq=default-product&orientation=portrait"}}),i&&t.discount_percentage>0&&e.jsxs("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-red-500 to-rose-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:["-",t.discount_percentage,"% OFF"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-800 dark:text-white mb-2 line-clamp-2 min-h-[2.5rem]",children:t.name_pt||t.name}),e.jsx("div",{className:"flex items-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-pink-500 dark:text-pink-400",children:["€",d.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 line-through",children:["€",t.price.toFixed(2)]})]}):e.jsxs("p",{className:"text-lg sm:text-xl font-bold text-pink-500 dark:text-pink-400",children:["€",d.toFixed(2)]})})]})]})},t.id)})}),e.jsx("div",{className:"text-center",children:e.jsxs(h,{to:"/products",className:"inline-block px-10 py-5 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-2xl font-bold text-lg hover:from-pink-600 hover:to-rose-600 hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-store-line mr-2 text-xl"}),"Ver mais produtos"]})})]})]})}),e.jsx(k,{})]})}export{Z as default};
//# sourceMappingURL=page-DaqiV9h8.js.map
