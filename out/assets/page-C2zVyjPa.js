import{c as h,a as j,r as a,f as u,j as e,L as r}from"./index-DlD1gmTD.js";import{H as f,F as b}from"./Footer-B2vMGxQd.js";const y=u("https://sgfwwldumrsyvviajdqp.supabase.co","sb_publishable_-UTFc4fjudJdbMS51kcweg_KCzprCDd");function g(){const[i]=h(),o=i.get("session_id"),{clearCart:d}=j(),[l,m]=a.useState(null),[x,t]=a.useState(!0);a.useEffect(()=>{window.scrollTo(0,0),o?p():t(!1)},[o]);const p=async()=>{try{const{data:{session:s}}=await y.auth.getSession(),n=await(await fetch("https://sgfwwldumrsyvviajdqp.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s?.access_token}`},body:JSON.stringify({sessionId:o})})).json();n.success&&(m(n.order),d())}catch(s){console.error("Erro ao verificar pagamento:",s)}finally{t(!1)}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#121212"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-5xl animate-spin mb-4",style:{color:"#9FBAD0"}}),e.jsx("p",{style:{color:"#B3B3B3"},children:"A verificar pagamento..."})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#121212"},children:[e.jsx(f,{}),e.jsx("main",{className:"flex-1 pt-32 pb-20 px-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"rounded-3xl p-12 shadow-xl text-center",style:{backgroundColor:"#1A1A1A",borderColor:"#C6A75E",borderWidth:"1px"},children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#C6A75E] to-[#B89A52] rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce",children:e.jsx("i",{className:"ri-check-line text-6xl text-white"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"#C6A75E"},children:"üéâ Compra Realizada com Sucesso!"}),e.jsx("p",{className:"text-xl mb-2",style:{color:"#F5F5F5"},children:"Obrigada por comprar na Marisol ü§ç"}),e.jsx("p",{className:"mb-8",style:{color:"#B3B3B3"},children:"A sua encomenda foi confirmada e ser√° processada em breve."}),l&&e.jsxs("div",{className:"rounded-2xl p-8 mb-8 text-left",style:{backgroundColor:"#121212",borderColor:"#9FBAD0",borderWidth:"1px"},children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",style:{color:"#F5F5F5"},children:"Informa√ß√µes da Encomenda"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center pb-3",style:{borderBottomColor:"#9FBAD0",borderBottomWidth:"1px"},children:[e.jsx("span",{className:"font-medium",style:{color:"#B3B3B3"},children:"N√∫mero da Encomenda"}),e.jsxs("span",{className:"font-bold",style:{color:"#F5F5F5"},children:["#",l.order_number]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3",style:{borderBottomColor:"#9FBAD0",borderBottomWidth:"1px"},children:[e.jsx("span",{className:"font-medium",style:{color:"#B3B3B3"},children:"Data"}),e.jsx("span",{className:"font-semibold",style:{color:"#F5F5F5"},children:new Date(l.created_at).toLocaleDateString("pt-PT",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3",style:{borderBottomColor:"#9FBAD0",borderBottomWidth:"1px"},children:[e.jsx("span",{className:"font-medium",style:{color:"#B3B3B3"},children:"Total Pago"}),e.jsxs("span",{className:"text-2xl font-bold",style:{color:"#C6A75E"},children:["‚Ç¨",l.total_amount?.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3",style:{borderBottomColor:"#9FBAD0",borderBottomWidth:"1px"},children:[e.jsx("span",{className:"font-medium",style:{color:"#B3B3B3"},children:"M√©todo de Pagamento"}),e.jsxs("span",{className:"font-semibold flex items-center gap-2",style:{color:"#F5F5F5"},children:[e.jsx("i",{className:"ri-bank-card-line",style:{color:"#9FBAD0"}}),l.payment_method||"Cart√£o"]})]}),l.shipping_address&&e.jsxs("div",{className:"pt-3",children:[e.jsx("p",{className:"font-medium mb-2",style:{color:"#B3B3B3"},children:"Endere√ßo de Entrega"}),e.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"#1A1A1A",borderColor:"#9FBAD0",borderWidth:"1px"},children:[e.jsx("p",{className:"font-semibold",style:{color:"#F5F5F5"},children:l.shipping_address.full_name}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#B3B3B3"},children:l.shipping_address.street}),e.jsxs("p",{className:"text-sm",style:{color:"#B3B3B3"},children:[l.shipping_address.postal_code," ",l.shipping_address.city]}),e.jsx("p",{className:"text-sm",style:{color:"#B3B3B3"},children:l.shipping_address.country}),e.jsxs("p",{className:"text-sm mt-2",style:{color:"#B3B3B3"},children:[e.jsx("i",{className:"ri-phone-line mr-1"}),l.shipping_address.phone]})]})]}),l.items&&l.items.length>0&&e.jsxs("div",{className:"pt-3",children:[e.jsx("p",{className:"font-medium mb-3",style:{color:"#B3B3B3"},children:"Produtos"}),e.jsx("div",{className:"space-y-3",children:l.items.map((s,c)=>e.jsxs("div",{className:"flex gap-3 rounded-lg p-3",style:{backgroundColor:"#1A1A1A",borderColor:"#9FBAD0",borderWidth:"1px"},children:[e.jsx("img",{src:s.image||s.product_image,alt:s.name||s.product_name,className:"w-16 h-16 object-cover object-top rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"#F5F5F5"},children:s.name||s.product_name}),(s.size||s.color)&&e.jsxs("p",{className:"text-xs mt-1",style:{color:"#B3B3B3"},children:[s.size&&`Tamanho: ${s.size}`,s.size&&s.color&&" ‚Ä¢ ",s.color&&`Cor: ${s.color}`]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs",style:{color:"#B3B3B3"},children:["Qtd: ",s.quantity]}),e.jsxs("span",{className:"text-sm font-bold",style:{color:"#C6A75E"},children:["‚Ç¨",((s.price||s.unit_price)*s.quantity).toFixed(2)]})]})]})]},c))})]})]})]}),e.jsx("div",{className:"rounded-xl p-4 mb-8",style:{backgroundColor:"#121212",borderColor:"#9FBAD0",borderWidth:"1px"},children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("i",{className:"ri-user-line text-2xl",style:{color:"#9FBAD0"}}),e.jsxs("p",{className:"text-sm",style:{color:"#F5F5F5"},children:[e.jsx("strong",{children:"Verifique o seu perfil!"}),e.jsx("br",{}),e.jsx("span",{style:{color:"#B3B3B3"},children:"Todos os detalhes da encomenda est√£o dispon√≠veis na sua conta."})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[l&&e.jsxs(r,{to:"/account?tab=orders",className:"px-8 py-4 rounded-xl font-semibold transition-all shadow-lg cursor-pointer whitespace-nowrap",style:{backgroundColor:"#9FBAD0",color:"#121212"},children:[e.jsx("i",{className:"ri-file-list-line mr-2"}),"Ver Detalhes da Encomenda"]}),e.jsxs(r,{to:"/products",className:"px-8 py-4 rounded-xl font-semibold transition-colors cursor-pointer whitespace-nowrap",style:{backgroundColor:"#121212",color:"#9FBAD0",borderColor:"#9FBAD0",borderWidth:"2px"},children:[e.jsx("i",{className:"ri-shopping-bag-line mr-2"}),"Continuar a Comprar"]})]}),e.jsxs("div",{className:"rounded-2xl p-6",style:{backgroundColor:"#121212",borderColor:"#C6A75E",borderWidth:"1px"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#F5F5F5"},children:"O que acontece agora?"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-left",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#9FBAD0"},children:e.jsx("span",{className:"font-bold",style:{color:"#121212"},children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"#F5F5F5"},children:"Processamento"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#B3B3B3"},children:"A sua encomenda est√° a ser preparada"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#9FBAD0"},children:e.jsx("span",{className:"font-bold",style:{color:"#121212"},children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"#F5F5F5"},children:"Envio"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#B3B3B3"},children:"Receber√° o c√≥digo de rastreio"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#C6A75E"},children:e.jsx("span",{className:"font-bold",style:{color:"#121212"},children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"#F5F5F5"},children:"Entrega"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#B3B3B3"},children:"Em 3-5 dias √∫teis"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("div",{className:"rounded-2xl p-6 mb-6",style:{backgroundColor:"#121212",borderColor:"#C6A75E",borderWidth:"1px"},children:e.jsxs("div",{className:"flex items-start gap-3 justify-center",children:[e.jsx("i",{className:"ri-customer-service-2-line text-3xl",style:{color:"#9FBAD0"}}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-lg mb-2",style:{color:"#F5F5F5"},children:"Suporte ao Cliente"}),e.jsxs("p",{className:"text-sm mb-3",style:{color:"#B3B3B3"},children:[e.jsx("strong",{style:{color:"#C6A75E"},children:"IA dispon√≠vel 24/7"}),e.jsx("br",{}),"Suporte Humano: 8:30-18:00 (Luxemburgo)"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{style:{color:"#9FBAD0"},children:[e.jsx("i",{className:"ri-phone-line mr-2"}),e.jsx("a",{href:"tel:+352631377168",className:"hover:underline cursor-pointer",children:"+352 631 377 168"})]}),e.jsxs("p",{style:{color:"#9FBAD0"},children:[e.jsx("i",{className:"ri-mail-line mr-2"}),e.jsx("a",{href:"mailto:contact@marisol.com",className:"hover:underline cursor-pointer",children:"contact@marisol.com"})]})]})]})]})}),e.jsx("p",{className:"mb-4",style:{color:"#B3B3B3"},children:"Precisa de ajuda com a sua encomenda?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(r,{to:"/contact",className:"inline-flex items-center justify-center gap-2 font-medium cursor-pointer",style:{color:"#9FBAD0"},children:[e.jsx("i",{className:"ri-customer-service-line"}),"Contactar Suporte"]}),e.jsxs(r,{to:"/support",className:"inline-flex items-center justify-center gap-2 font-medium cursor-pointer",style:{color:"#9FBAD0"},children:[e.jsx("i",{className:"ri-question-line"}),"Centro de Ajuda"]})]})]})]})}),e.jsx(b,{})]})}export{g as default};
//# sourceMappingURL=page-C2zVyjPa.js.map
