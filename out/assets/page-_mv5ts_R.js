import{r as n,j as e,s as t}from"./index-DlD1gmTD.js";import{u as f,H as k,F as j}from"./Footer-B2vMGxQd.js";function N(){const{t:w}=f(),[s,i]=n.useState({name:"",email:"",preferences:[]}),[x,o]=n.useState(!1),[d,l]=n.useState("idle"),[m,c]=n.useState(""),h=async r=>{r.preventDefault(),o(!0),l("idle"),c("");try{const{data:a,error:b}=await t.from("newsletter_subscribers").select("email").eq("email",s.email).single();if(a){l("duplicate"),c("Este email j√° est√° inscrito no nosso newsletter! Continua a receber as nossas novidades e promo√ß√µes exclusivas. üíô"),o(!1);return}const{error:g}=await t.from("newsletter_subscribers").insert([{name:s.name,email:s.email,preferences:s.preferences,subscribed_at:new Date().toISOString()}]);if(g)throw g;const{data:p}=await t.from("customers").select("id").eq("email",s.email).single();p?await t.from("customers").update({is_newsletter_subscribed:!0,newsletter_subscribed_at:new Date().toISOString()}).eq("email",s.email):await t.from("customers").insert([{name:s.name,email:s.email,is_newsletter_subscribed:!0,newsletter_subscribed_at:new Date().toISOString(),order_count:0,total_spent:0,created_at:new Date().toISOString()}]),l("success"),i({name:"",email:"",preferences:[]})}catch(a){console.error("Erro ao processar inscri√ß√£o:",a),l("error"),c(a.message||"Ocorreu um erro ao processar a inscri√ß√£o. Por favor, tente novamente.")}finally{o(!1)}},u=r=>{i(a=>({...a,preferences:a.preferences.includes(r)?a.preferences.filter(b=>b!==r):[...a.preferences,r]}))};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-pink-50 via-rose-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx(k,{}),e.jsx("main",{className:"flex-1 pt-20 pb-16",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-pink-500 to-rose-600 rounded-3xl mb-8 shadow-2xl",children:e.jsx("i",{className:"ri-mail-send-line text-5xl text-white"})}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent mb-6",children:"Newsletter Marisol"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed font-light",children:"Receba novidades exclusivas da Marisol"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mt-4",children:"Seja a primeira a descobrir novos produtos, promo√ß√µes especiais e inspira√ß√µes de moda"})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden",children:e.jsx("div",{className:"p-8 md:p-12 lg:p-16",children:e.jsxs("form",{id:"newsletter-form","data-readdy-form":!0,onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Nome *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:r=>i({...s,name:r.target.value}),required:!0,className:"w-full px-5 py-4 text-base rounded-2xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 transition-all",placeholder:"Digite o seu nome"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:r=>i({...s,email:r.target.value}),required:!0,className:"w-full px-5 py-4 text-base rounded-2xl border-2 border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-pink-500/20 focus:border-pink-500 transition-all",placeholder:"Digite o seu email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-semibold text-gray-900 dark:text-white mb-4",children:"Prefer√™ncias (Opcional)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Escolha os temas que mais lhe interessam"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"newArrivals",label:"Novidades",icon:"ri-star-line"},{id:"promotions",label:"Promo√ß√µes",icon:"ri-price-tag-3-line"},{id:"tips",label:"Dicas de Moda",icon:"ri-lightbulb-line"},{id:"events",label:"Eventos",icon:"ri-calendar-event-line"}].map(r=>e.jsx("button",{type:"button",onClick:()=>u(r.id),className:`group p-5 rounded-2xl border-2 transition-all text-left ${s.preferences.includes(r.id)?"border-pink-500 bg-gradient-to-br from-pink-50 to-rose-50 dark:from-pink-900/20 dark:to-rose-900/20 shadow-lg":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700/50 hover:border-pink-300 dark:hover:border-pink-700 hover:shadow-md"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all ${s.preferences.includes(r.id)?"border-pink-500 bg-pink-500 scale-110":"border-gray-300 dark:border-gray-600 group-hover:border-pink-400"}`,children:s.preferences.includes(r.id)&&e.jsx("i",{className:"ri-check-line text-white text-base font-bold"})}),e.jsx("i",{className:`${r.icon} text-2xl ${s.preferences.includes(r.id)?"text-pink-600 dark:text-pink-400":"text-gray-400 dark:text-gray-500"}`}),e.jsx("span",{className:`font-semibold text-base ${s.preferences.includes(r.id)?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-300"}`,children:r.label})]})},r.id))})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full py-5 bg-gradient-to-r from-pink-500 via-rose-500 to-pink-600 text-white text-lg font-bold rounded-2xl hover:from-pink-600 hover:via-rose-600 hover:to-pink-700 focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-2xl hover:shadow-pink-500/50 whitespace-nowrap",children:x?e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-xl"}),"A processar..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx("i",{className:"ri-mail-send-line text-xl"}),"Subscrever Newsletter"]})}),d==="success"&&e.jsx("div",{className:"success-message p-8 bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 dark:from-green-900/30 dark:via-emerald-900/30 dark:to-green-900/30 border-2 border-green-300 dark:border-green-700 rounded-3xl shadow-2xl",children:e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-xl flex-shrink-0",children:e.jsx("i",{className:"ri-checkbox-circle-line text-3xl text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-green-900 dark:text-green-200 mb-2",children:"Obrigada por se inscrever na Newsletter da Marisol üíï"}),e.jsx("p",{className:"text-base text-green-800 dark:text-green-300 leading-relaxed",children:"Inscri√ß√£o realizada com sucesso! Vai receber as nossas novidades, promo√ß√µes exclusivas e inspira√ß√µes de moda diretamente no seu email."})]})]})}),d==="duplicate"&&e.jsx("div",{className:"duplicate-message p-8 bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 dark:from-blue-900/30 dark:via-cyan-900/30 dark:to-blue-900/30 border-2 border-blue-300 dark:border-blue-700 rounded-3xl shadow-2xl",children:e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl shadow-xl flex-shrink-0",children:e.jsx("i",{className:"ri-information-line text-3xl text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-200 mb-2",children:"Este email j√° est√° inscrito!"}),e.jsx("p",{className:"text-base text-blue-800 dark:text-blue-300 leading-relaxed",children:m||"Este email j√° est√° inscrito no nosso newsletter! Continua a receber as nossas novidades e promo√ß√µes exclusivas. üíô"})]})]})}),d==="error"&&e.jsx("div",{className:"p-8 bg-gradient-to-br from-red-50 via-rose-50 to-red-100 dark:from-red-900/30 dark:via-rose-900/30 dark:to-red-900/30 border-2 border-red-300 dark:border-red-700 rounded-3xl shadow-2xl",children:e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"w-14 h-14 flex items-center justify-center bg-gradient-to-br from-red-500 to-rose-600 rounded-2xl shadow-xl flex-shrink-0",children:e.jsx("i",{className:"ri-error-warning-line text-3xl text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-red-900 dark:text-red-200 mb-2",children:"Erro ao processar inscri√ß√£o"}),e.jsx("p",{className:"text-base text-red-800 dark:text-red-300 leading-relaxed",children:m||"Ocorreu um erro ao processar a inscri√ß√£o. Por favor, tente novamente."})]})]})})]})})}),e.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-900/30 dark:to-rose-900/30 rounded-2xl mb-4",children:e.jsx("i",{className:"ri-star-line text-3xl text-pink-600 dark:text-pink-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Novidades em Primeira M√£o"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Seja a primeira a conhecer as novas cole√ß√µes e lan√ßamentos"})]}),e.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-900/30 dark:to-rose-900/30 rounded-2xl mb-4",children:e.jsx("i",{className:"ri-price-tag-3-line text-3xl text-pink-600 dark:text-pink-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Promo√ß√µes Exclusivas"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Descontos e ofertas especiais apenas para subscritores"})]}),e.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-900/30 dark:to-rose-900/30 rounded-2xl mb-4",children:e.jsx("i",{className:"ri-lightbulb-line text-3xl text-pink-600 dark:text-pink-400"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Inspira√ß√£o & Dicas"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conselhos de moda e looks inspiradores todas as semanas"})]})]})]})}),e.jsx(j,{})]})}export{N as default};
//# sourceMappingURL=page-_mv5ts_R.js.map
